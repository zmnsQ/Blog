(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ed98708"],{"19b1":function(e,t,a){},"2b06":function(e,t,a){"use strict";a("c22c")},"33d4":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("div",{staticClass:"top-header"},[e._v("\n    任务状态：\n    "),l("el-select",{attrs:{placeholder:"事件类型"},on:{change:e.changeEventType},model:{value:e.query.eventType,callback:function(t){e.$set(e.query,"eventType",t)},expression:"query.eventType"}},e._l(e.eventType,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v("\n    巡检任务编号：\n    "),l("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入内容"},model:{value:e.query.eventType,callback:function(t){e.$set(e.query,"eventType",t)},expression:"query.eventType"}}),e._v("\n    任务开始时间：\n    "),l("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"]},on:{change:e.changeTime},model:{value:e.query.time,callback:function(t){e.$set(e.query,"time",t)},expression:"query.time"}}),e._v("\n\n    变电站：\n    "),l("el-select",{attrs:{placeholder:"变电站"},on:{change:e.changeAlarmType},model:{value:e.query.alarmType,callback:function(t){e.$set(e.query,"alarmType",t)},expression:"query.alarmType"}},e._l(e.alarmType,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),l("br"),e._v("\n    巡检类型：\n    "),l("el-select",{attrs:{placeholder:"巡检类型"},on:{change:e.changeAlarmType},model:{value:e.query.alarmType,callback:function(t){e.$set(e.query,"alarmType",t)},expression:"query.alarmType"}},e._l(e.alarmType,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v("\n    巡检方式：\n    "),l("el-select",{attrs:{placeholder:"巡检方式"},on:{change:e.changeAlarmType},model:{value:e.query.alarmType,callback:function(t){e.$set(e.query,"alarmType",t)},expression:"query.alarmType"}},e._l(e.alarmType,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.queryData()}}},[e._v("查询")])],1),e._v(" "),l("div",{staticClass:"nav-konz"},[l("el-popover",{attrs:{placement:"bottom",width:"350",trigger:"click"}},[l("el-button",{attrs:{slot:"reference",icon:"el-icon-video-pause",type:"button"},slot:"reference"},[e._v("一键暂停")]),e._v(" "),l("div",{staticClass:"ttp-title"},[l("img",{staticClass:"icco",attrs:{src:a("b491"),alt:""}}),e._v(" 开启一键暂停后，所有巡检任务将停止巡检。")]),e._v(" "),l("div",{staticClass:"intt"},[e._v("暂停原因描述 "),l("span",{staticStyle:{color:"red"}},[e._v("*")])]),e._v(" "),l("div",{staticStyle:{margin:"10px 0"}},[l("el-form",{ref:"form",attrs:{label:"身份证号",model:e.formData,rules:e.rule}},[l("el-form-item",{attrs:{label:"请填写暂停原因描述",prop:"textarea"}},[l("el-input",{attrs:{reqiired:"required",type:"textarea",placeholder:"请填写暂停原因描述",maxlength:"100","show-word-limit":""},model:{value:e.formData.textarea,callback:function(t){e.$set(e.formData,"textarea",t)},expression:"formData.textarea"}})],1),e._v(" "),l("div",{staticStyle:{"text-align":"right"}},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleConfirm()}}},[e._v("确认")])],1)],1)],1)],1),e._v(" "),l("el-button",{attrs:{icon:"el-icon-document",type:"button"},on:{click:function(t){return e.stoprecordClick()}}},[e._v("一键暂停记录")])],1),e._v(" "),l("div",[l("el-table",{staticStyle:{width:"100%",margin:"10px auto"},attrs:{data:e.eventListData.list,border:"",stripe:"","cell-style":e.cellStyle,"header-cell-style":{background:"#ebebeb",color:"#1a1a1a"}}},[l("el-table-column",{attrs:{prop:"ruleName",label:"巡检任务编号"}}),e._v(" "),l("el-table-column",{attrs:{prop:"startTime",label:"计划开始时间",formatter:e.dateFormat}}),e._v(" "),l("el-table-column",{attrs:{prop:"ruleName",label:"变电站"}}),e._v(" "),l("el-table-column",{attrs:{prop:"eventLogSrcList",label:"巡检类型"}}),e._v(" "),l("el-table-column",{attrs:{prop:"eventTypeName",label:"巡检方式"}}),e._v(" "),l("el-table-column",{attrs:{prop:"eventLogSrcList",label:"生成任务类型"}}),e._v(" "),l("el-table-column",{attrs:{prop:"eventLevelValue,eventLevelColor",label:"巡检对象数量"}}),e._v(" "),l("el-table-column",{attrs:{prop:"handleStatus",label:"巡检点位数量",formatter:e.statusFormat}}),e._v(" "),l("el-table-column",{attrs:{prop:"handleStatus",label:"巡检计划编号",formatter:e.statusFormat}}),e._v(" "),l("el-table-column",{attrs:{prop:"startTime",label:"任务开始时间",formatter:e.dateFormat}}),e._v(" "),l("el-table-column",{attrs:{prop:"handleStatus",label:"任务状态",formatter:e.statusFormat}}),e._v(" "),l("el-table-column",{attrs:{prop:"eventLogSrcList",label:"操作",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{icon:"el-icon-document",title:"详情",circle:""},on:{click:function(t){return e.handleClick()}}})]}}])})],1)],1),e._v(" "),l("div",{staticClass:"paginatio"},[l("el-pagination",{attrs:{"current-page":e.eventListData.pageNo,"page-sizes":[12,20,30,50,100],"page-size":e.eventListData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.eventListData.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),l("pop-instasks",{attrs:{show:e.popShow},on:{returnPop:e.popTableReturn}}),e._v(" "),l("pop-timeline",{attrs:{show:e.popStoprecord},on:{returnPop:e.popStoprecoreReturn}})],1)},n=[],i=a("c488"),r=a("db5e"),o=a("c1df"),s=a.n(o),c=a("9247"),p={name:"Instasks",components:{PopInstasks:i["default"],PopTimeline:c["default"]},data:function(){return{formData:{textarea:""},rule:{textarea:[{required:!0,message:"请输入暂停原因描述"},{min:1,max:100,message:"长度在 1 到 100 个字符"}]},popStoprecord:0,popShow:0,popCShow:0,headerIndex:"1",eventListData:[],eventLog:[],query:{eventType:"131588",alarmType:"2",currentPage:1,pageSize:8,time:[]},eventType:[{value:"131588",label:"区域入侵"},{value:"131329",label:"视频丢失"},{value:"131330",label:"视频遮挡"},{value:"131331",label:"移动侦测"},{value:"131612",label:"场景变更"},{value:"589825",label:"报警输入"},{value:"589826",label:"报警输出"},{value:"131585",label:"越界侦测"},{value:"192518",label:"温差报警"},{value:"192517",label:"温度报警"},{value:"192515",label:"火点检测"},{value:"192514",label:"烟火检测"},{value:"192513",label:"烟雾检测"}],alarmType:[{value:"1",label:"低"},{value:"2",label:"中"},{value:"3",label:"高"}]}},created:function(){var e=new Date,t=new Date(e.getTime()-864e5),a=new Date(e.getTime()+864e5);this.query.time.push(t,a),this.queryData()},methods:{handleConfirm:function(){this.$refs.form.validate((function(e){}))},cellStyle:function(e,t,a,l){if("事件等级"===e.column.label)return"background:".concat(e.row.eventLevelColor,";color:#fff;")},stoprecordClick:function(){this.popStoprecord=1},handleClick:function(e){this.popShow=1},popTableReturn:function(e){this.popShow=0},popStoprecoreReturn:function(e){this.popStoprecord=0},changeTime:function(e){this.query.time=e,this.queryData()},changeEventType:function(e){this.query.eventType=e,this.queryData()},changeAlarmType:function(e){this.query.alarmType=e,this.queryData()},queryData:function(){var e=this;r["default"].eventList(this.query).then((function(t){e.eventListData=t.data})),r["default"].eventList2(this.query).then((function(e){}))},handleSizeChange:function(e){this.query.pageSize=e,this.queryData()},handleCurrentChange:function(e){this.query.currentPage=e,this.queryData()},dateFormat:function(e,t){var a=e[t.property];return void 0===a?"":s()(a).format("YYYY-MM-DD HH:mm:ss")},statusFormat:function(e,t){var a;switch(e.handleStatus){case 0:a="未处理";break;case 1:a="已处理";break}return a}}},u=p,v=(a("2b06"),a("2877")),m=Object(v["a"])(u,l,n,!1,null,"23c117bf",null);t["default"]=m.exports},4164:function(e,t,a){},"7f21":function(e,t,a){"use strict";a("4164")},9247:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.show?a("div",{staticClass:"pop-div"},[a("div",{staticClass:"pop-bg",class:e.show&&e.animation?"popbg-in":"popbg-out"}),e._v(" "),a("div",{staticClass:"pop-content",class:e.show&&e.animation?"popcontent-in":"popcontent-out"},[a("div",{staticClass:"pop-title"},[a("div",{staticClass:"title-font"},[e._v("一键暂停记录")]),e._v(" "),a("div",{staticClass:"title-img",on:{click:e.close}},[a("svg-icon",{staticStyle:{width:"100%",height:"100%"},attrs:{"icon-class":"close"}})],1)]),e._v(" "),a("div",{staticClass:"time"},[a("div",{staticClass:"text-content"},[a("br"),e._v(" "),a("div",{staticClass:"time-line"},[e._l(e.list,(function(t){return a("div",{key:t.index,staticClass:"time-line-div"},[a("p",[e._v(e._s(t.createTimeStr))]),e._v(" "),a("p",{ref:"circular",refInFor:!0}),e._v(" "),a("p",[a("span",{staticStyle:{color:"#999"}},[e._v("提交人:"+e._s(t.submitter))]),e._v(" "),a("br"),e._v(" "),a("span",{staticStyle:{"margin-top":"10px","line-height":"1.5",height:"56px",display:"block",color:"#333",overflow:"hidden"}},[e._v("原因："+e._s(t.reason)+" ")])])])})),e._v(" "),a("div",{ref:"dotted",staticClass:"img-dotted"})],2),e._v(" "),a("div",{staticStyle:{"margin-top":"20px"}})])])])]):e._e()},n=[],i={name:"PopTimeline",props:["show"],data:function(){return{testList:[{key:"1",time:"2001-01-01 01:00:00",text:"第一步第一步第一步第一步第一步"},{key:"2",time:"2002-02-02 02:00:00",text:"第二步第二步第二步第二步第二步"},{key:"3",time:"2003-03-03 03:00:00",text:"第三步第三步第三步第三步第三步"},{key:"4",time:"2004-04-04 04:00:00",text:"第四步第四步第四步第四步第四步"},{key:"5",time:"2005-05-05 05:00:00",text:"第五步第五步第五步第五步第五步"}],list:[{id:"068554cbb07f445e9e97de5e89531310",jobIds:null,reason:"从去年圣诞节回国到现在也快一年，先交代一下：国内本科毕业直接去了英国金融硕士一年+德国某商校交换四个多月，圣诞假回国懒散过年陪家人，3月参加（可怜的）春招，五月在上海一家外企以finance trainee财务培训生的身份入职至今。 ",submitter:"admin",operate:1,createTime:"2020-12-21T17:28:16.776+08:00",updateTime:"2020-12-21T17:28:16.776+08:00",createTimeStr:"2020/12/21 17:28:16"},{id:"67196d8b510d469f99f77b04e4b6e971",jobIds:null,reason:"从去年圣诞节回国到现在也快一年，先交代一下：国内本科毕业直接去了英国金融硕士一年+德国某商校交换四个多月，",submitter:"admin",operate:1,createTime:"2020-12-21T17:27:38.058+08:00",updateTime:"2020-12-21T17:27:38.058+08:00",createTimeStr:"2020/12/21 17:27:38"}],animation:1}},methods:{close:function(){this.animation=0;var e=this;setTimeout((function(){e.$emit("returnPop",0),e.animation=1}),500)}}},r=i,o=(a("c940"),a("2877")),s=Object(o["a"])(r,l,n,!1,null,"70e8d2fe",null);t["default"]=s.exports},b491:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAuCAYAAAC4e0AJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAL6SURBVGhD7Zm7axRRFIf9V0RFRMVCsLC0ESsLLcRCQRQVrCy0yD9hpfGBikVQSESJaERMYhtQSKFGUKOoRELiI5ud2dfM8f6G3Ow4e2bmPh0XduCDy+yde77dvXNfZ8OPMKZ+ZSBfFc7kF+sxTX9u09B0g/aN1GnnjVXaeLm2zqYrNdol7h24W0/qoC6e4dpSxVp+drFDZydC2natK6rKDvFlzj0NaW45Ytsuw1j+w8+ITj4Ok1+UE9Nhy3CNTom20CYXKw9t+WXBrdkmbb/+d7dwAdpE24jBxc6iJf91JaIzoou4+LXzQNuIgVicQxpl+ffiLz18P2AD+gCxEJNzkSjJ41c4Nh6yQXxy5EFAn37nf4FS+e+rMZ14ZCZ+fDygiY/tBJS5OmUgNhw4t1L54VfNZDTgGi7iwmSDfjVikhfKuMfVLQKx4cC5Fcq/XOjQnttmo8qz+faadvfCPa5uGXCY+dbp8cuVx3B1+ol5P3cpD+CSHUJz5afE9I3pnGtIBVfdRgIXOKUdc+XPPzcPJMFLeu9NK8H0hU0Dp7QjK/92KaK9d9zPoLbACW7Sk5Ufed2izQYjjG+2Xq3R6LvWuicrf3HKvsv4YuhFt+v0yGNCODTmbhlwcLSewH1mAmZdOer0yM+L6Xi/2DBwD+oyNtemjhhwAMpcHV3gBkdWHpuL3TftX9ajDwNaEP+ivFDGPa6uDnCD40A+j4E8Q6G8qxfWl3zhC4thCMMR96AOvuQxjMv1fY88wETAPaiDL3lMoNKTlccUjKmYe1gVH/JYsmDpIj1ZeRcLMx/ySgszYLsk9iGvtCQGtpsR1/JamxHbbaBrea1tILDZgGMl+WUlWlOnpGy6uoQDXLJ+hfLA9OgDXJpp0lIQJ6DM1SnD+OgD2Bw6ucDq0AlUddyHmEUHrkryoG8PWiV9e8QtwXDVl8mFNEjBIBVjOhKlQRv/JK2TBckwJMWQHOPEikASrpKEWpZ0KhPpSkzn2XcD6U2kOf+bVGaVDOSrIaY/CFU1Sdrp8csAAAAASUVORK5CYII="},c22c:function(e,t,a){},c488:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.show?a("div",{staticClass:"pop-div"},[a("div",{staticClass:"pop-bg",class:e.show&&e.animation?"popbg-in":"popbg-out"}),e._v(" "),a("div",{staticClass:"pop-content",class:e.show&&e.animation?"popcontent-in":"popcontent-out"},[a("div",{staticClass:"pop-title"},[a("div",{staticClass:"title-font"},[e._v("巡检任务详情")]),e._v(" "),a("div",{staticClass:"title-img",on:{click:e.close}},[a("svg-icon",{staticStyle:{width:"100%",height:"100%"},attrs:{"icon-class":"close"}})],1)]),e._v(" "),a("div",{staticClass:"pop-table"},[e._m(0),e._v(" "),a("div",{staticClass:"title1",staticStyle:{"margin-top":"40px","margin-bottom":"10px"}},[e._v("巡检进度")]),e._v(" "),a("el-table",{staticStyle:{width:"100%",height:"100%"},attrs:{data:e.datalist,stripe:"","header-cell-style":{background:"#ebebeb",color:"#1a1a1a"}}},[a("el-table-column",{attrs:{type:"index",align:"center",label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pointName",align:"center",label:"巡检区域"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pointName",align:"center",label:"间隔"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pointName",align:"center",label:"巡检对象"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pointName",align:"center",label:"巡检点位"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pointName",align:"center",label:"巡检内容"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pointName",align:"center",label:"关联监控点"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pointName",align:"center",label:"巡检进度"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pointName",align:"center",label:"识别结果"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pointName",align:"center",label:"图片"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pointName",align:"center",label:"结论"}})],1)],1),e._v(" "),a("div",{staticClass:"pop-page"},[a("el-pagination",{attrs:{background:"","page-size":e.pageSize,"current-page":e.currentPpage,layout:"pager",total:e.total}})],1)])]):e._e()},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info"},[a("div",{staticClass:"title1"},[e._v("巡检任务信息")]),e._v(" "),a("div",{staticClass:"insreinfo"},[a("div",{staticClass:"inb"},[a("p",[e._v("巡检任务编号")]),e._v(" "),a("span",[e._v("xj14854115")])]),e._v(" "),a("div",{staticClass:"inb"},[a("p",[e._v("巡检计划开始时间")]),e._v(" "),a("span",[e._v("2019/09/24 18:25:44")])]),e._v(" "),a("div",{staticClass:"inb"},[a("p",[e._v("变电站")]),e._v(" "),a("span",[e._v("大疆变电站")])]),e._v(" "),a("div",{staticClass:"inb"},[a("p",[e._v("巡检类型")]),e._v(" "),a("span",[e._v("全站巡检")])]),e._v(" "),a("div",{staticClass:"inb"},[a("p",[e._v("巡检方式")]),e._v(" "),a("span",[e._v("智能巡检")])]),e._v(" "),a("div",{staticClass:"inb"},[a("p",[e._v("生成任务类型")]),e._v(" "),a("span",[e._v("手动 ")])]),e._v(" "),a("div",{staticClass:"inb"},[a("p",[e._v("任务生成时间")]),e._v(" "),a("span",[e._v("2019/09/24 14:36:55")])]),e._v(" "),a("div",{staticClass:"inb"},[a("p",[e._v("任务开始时间")]),e._v(" "),a("span",[e._v("2019/09/24 14:36:55")])]),e._v(" "),a("div",{staticClass:"inb"},[a("p",[e._v("巡检任务计划编号")]),e._v(" "),a("span",[e._v("xj14854115")])])])])}],i={name:"PopInstasks",components:{},props:["show"],data:function(){return{animation:1,total:20,currentPpage:1,evevtlogdata:[],pageSize:10,datalist:[{pointName:"设备区域"},{pointName:"设备区域"},{pointName:"设备区域"},{pointName:"设备区域"},{pointName:"设备区域"},{pointName:"设备区域"},{pointName:"设备区域"},{pointName:"设备区域"}]}},methods:{close:function(){this.animation=0;var e=this;setTimeout((function(){e.$emit("returnPop",0),e.animation=1}),500)},pagination:function(e,t,a){var l=(e-1)*t;return l+t>=a.length?a.slice(l,a.length):a.slice(l,l+t)}}},r=i,o=(a("7f21"),a("2877")),s=Object(o["a"])(r,l,n,!1,null,"79d81f8f",null);t["default"]=s.exports},c940:function(e,t,a){"use strict";a("19b1")},db5e:function(e,t,a){"use strict";a.r(t),a.d(t,"eventList",(function(){return n})),a.d(t,"eventList2",(function(){return i}));var l=a("b775");function n(e){return Object(l["a"])({url:"/api/EventList",method:"post",data:e})}function i(e){return Object(l["a"])({url:"/api/event/intrusion",method:"post",data:e})}t["default"]={eventList:n,eventList2:i}}}]);